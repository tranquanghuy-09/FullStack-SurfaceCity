<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Shop Homepage</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="/assets/logomini.png" />
        <!-- Bootstrap icons-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.1/font/bootstrap-icons.min.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
        <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
        <style>
            #product-name{
                font-size: 20px;
            }
            @media (max-width: 768px) {
                #product-name {
                    font-size: 18px;
                }
                #view-option{
                    font-size: 14px;
                }
                #product-price{
                    font-size: 16px;
                }
            }
            @media (min-width: 769px) {
                #product-name {
                    font-size: 20px;
                }
            }
            canvas {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
                /*display: none;*/
                /*background-size: cover;*/
                /*background-position: 50% 50%;*/
                /*background-repeat: no-repeat;*/
            }
            .newyear-bg {
                position: absolute;
                width: 100%;
                z-index: -3;
            }
            #header-image {
                position: relative;
                z-index: -2;
            }
            #number-page:hover{
                background-color: RGB(175, 224, 245);
            }
            .swiper-container {
                max-width: 100%;
                margin: 0 auto;
                overflow: hidden;
            }
            .message-text-title{
                color: RGB(224, 92, 53);
                font-weight: bold;
            }
        </style>
    </head>

    <body>
        <!-- Navigation-->
        <header th:insert="~{components/header.html}"></header>
        <div class="swiper-container-noti swiper-fix hide-mb swiper-container-horizontal swiper-container-free-mode bg-light swiper-container"
             style="cursor: grab;">
            <div class="swiper-wrapper" style="transition-duration: 5000ms; transform: translate3d(-9842.86px, 0px, 0px);">
                <div class="swiper-slide swiper-slide-noti swiper-slide-duplicate" data-swiper-slide-index="1"
                     style="width: 1514.29px;">
                    <div class="message-text">
                        <span class="message-text-title">HAPPY NEW YEAR 2024</span>
                        <span><img src="/assets/fireworks_2.png" alt="" srcset=""></span>
                    </div>
                </div>
                <div class="swiper-slide swiper-slide-noti swiper-slide-duplicate swiper-slide-duplicate-prev"
                     data-swiper-slide-index="2" style="width: 1514.29px;">
                    <div class="message-text">
                        <span class="message-text-title">HAPPY NEW YEAR 2024</span>
                        <span><img src="/assets/fireworks_2.png" alt="" srcset=""></span>
                    </div>
                </div>
                <div class="swiper-slide swiper-slide-noti swiper-slide-duplicate-next" data-swiper-slide-index="0"
                     style="width: 1514.29px;">
                    <div class="message-text">
                        <span class="message-text-title">HAPPY NEW YEAR 2024</span>
                        <span><img src="/assets/fireworks_2.png" alt="" srcset=""></span>
                    </div>
                </div>
                <div class="swiper-slide swiper-slide-noti" data-swiper-slide-index="1" style="width: 1514.29px;">
                    <div class="message-text">
                        <span class="message-text-title">HAPPY NEW YEAR 2024</span>
                        <span><img src="/assets/fireworks_2.png" alt="" srcset=""></span>
                    </div>
                </div>
                <div class="swiper-slide swiper-slide-noti swiper-slide-prev" data-swiper-slide-index="2"
                     style="width: 1514.29px;">
                    <div class="message-text">
                        <span class="message-text-title">HAPPY NEW YEAR 2024</span>
                        <span><img src="/assets/fireworks_2.png" alt="" srcset=""></span>
                    </div>
                </div>
                <div class="swiper-slide swiper-slide-noti swiper-slide-duplicate swiper-slide-next"
                     data-swiper-slide-index="0" style="width: 1514.29px;">
                    <div class="message-text">
                        <span class="message-text-title">HAPPY NEW YEAR 2024</span>
                        <span><img src="/assets/fireworks_2.png" alt="" srcset=""></span>
                    </div>
                </div>
                <div class="swiper-slide swiper-slide-noti swiper-slide-duplicate" data-swiper-slide-index="1"
                     style="width: 1514.29px;">
                    <div class="message-text">
                        <span class="message-text-title">HAPPY NEW YEAR 2024</span>
                        <span><img src="/assets/fireworks_2.png" alt="" srcset=""></span>
                    </div>
                </div>
                <div class="swiper-slide swiper-slide-noti swiper-slide-duplicate swiper-slide-duplicate-prev"
                     data-swiper-slide-index="2" style="width: 1514.29px;">
                    <div class="message-text">
                        <span class="message-text-title">HAPPY NEW YEAR 2024</span>
                        <span><img src="/assets/fireworks_2.png" alt="" srcset=""></span>
                    </div>
                </div>
            </div>
        </div>
        <script>
            var swiperOptions = {
                loop: true,
                freeMode: true,
                spaceBetween: 0,
                grabCursor: true,
                slidesPerView: window.screen.width > 1024 ? 3.5 : 1,
                loop: true,
                autoplay: {
                    delay: 1,
                    disableOnInteraction: false
                },
                freeMode: true,
                speed: 5000,
                freeModeMomentum: false
            };

            var swiper = new Swiper(".swiper-container-noti", swiperOptions);
        </script>
        <!-- Header-->
        <header class="bg-light py-3" id="header-image">
            <div class="container" style="z-index: -2">
                <div class="text-center text-white" style="z-index: -2">
                    <img src="/assets/banner-giangsinh2.webp" alt="" srcset="" width="100%" id="banner" style="z-index: -2">
                </div>
            </div>
        </header>
        <!-- Section-->
        <section class="py-3">
            <img src="/assets/BG.webp" class="newyear-bg" alt="">
            <div class="container px-4 px-lg-5 mt-5">
                <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center" >

                    <div class="col mb-5" th:each="product, iStat : ${productPage.getContent()}">
                        <div class="card h-100">
                            <!-- Product image-->
                            <img class="card-img-top" th:src="${product.getProductImageList().isEmpty() ? 'https://dummyimage.com/450x300/dee2e6/6c757d.jpg' : product.getProductImageList().get(0).path}" alt="..." />
<!--                            <p th:text="${product.getProductImageList().isEmpty() ? 'https://dummyimage.com/450x300/dee2e6/6c757d.jpg' : product.getProductImageList().get(product.getProductImageList().size() - 1).path}"></p>-->
<!--&lt;!&ndash;                            <p th:text="${product.getProductImageList().isEmpty() ? product.getProductImageList().get(product.getProductImageList().size() - 1).path : 'https://dummyimage.com/450x300/dee2e6/6c757d.jpg'}"></p>&ndash;&gt;-->
<!--                            &lt;!&ndash; Product details&ndash;&gt;-->
                            <div class="card-body p-4">
                                <div class="text-center">
                                    <!-- Product name-->
                                    <h5 id="product-name" class="fw-bolder" th:text="${product.name}"></h5>
                                    <!-- Product price-->
<!--                                    <span th:text="${product.getProductPrices().isEmpty()?'$40.00 - $80.00': product.getProductPrices().get(product.getProductPrices().size()-1).price}"></span>-->
<!--                                    <span th:text="${product.getProductPrices().isEmpty() ? 800 : Number(product.getProductPrices().get(product.getProductPrices().size()-1).price).toLocaleString('en-US')}"></span>-->
                                    <span id="product-price" th:text="${product.getProductPrices().isEmpty() ? '$40.00 - $80.00' : #numbers.formatDecimal(product.getProductPrices().get(product.getProductPrices().size()-1).price, 0, 'COMMA', 0, 'POINT')}" style="color: red; font-weight: bold"></span>
                                    <span style="color: red; font-weight: bold">₫</span>

                                </div>
                            </div>
                            <!-- Product actions-->
                            <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                                <div class="text-center"><a id="view-option" class="btn btn-outline-dark mt-auto" th:href="@{product/{id}(id=${product.product_id})}">View options</a></div>
                            </div>
                        </div>
                    </div>




                </div>
            </div>
        </section>
        <div class="inline container py-3" th:if="${productPage.totalPages > 0}" style="width: 100%; text-align: center">
            <span id="number-page" th:each="pageNumber : ${pageNumbers}" style="border: 1px solid #D2D2D2; display: inline-block; width: 35px; margin: 10px; border-radius: 5px; padding: 5px" ; >
                <a  th:href="@{/products(size=${productPage.size}, page=${pageNumber}-1)}"
                   th:text="${pageNumber}"
                   th:class="${pageNumber==productPage.number + 1} ? active" style="text-decoration: none;"></a>
            </span>

        </div>
        <!-- Footer-->
        <footer class="py-5 bg-dark">
            <div class="container"><p class="m-0 text-center text-white">&copy; 2023. Tran Quang Huy</p></div>
            <div class="footer-copyright container mx-auto px-4 py-4 xl:px-0 d-flex justify-content-center align-items-center">
                <div class="social-icons-wrap">
                    <div class="top_social d-flex justify-content-between" style="width: 150px;">
                        <a href="https://www.facebook.com/huylauri/" class="facebook ntip" original-title=" Follow on Facebook" target="_blank" rel="nofollow">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="12.5" viewBox="0 0 320 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path fill="#ffffff" d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"/></svg>
                        </a>
                        <a href="http://linkedin.com/in/huy-trần-quang-654575288" class="linkedin ntip" original-title=" Follow on LinkedIn" target="_blank" rel="nofollow">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="17.5" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path fill="#ffffff" d="M100.3 448H7.4V148.9h92.9zM53.8 108.1C24.1 108.1 0 83.5 0 53.8a53.8 53.8 0 0 1 107.6 0c0 29.7-24.1 54.3-53.8 54.3zM447.9 448h-92.7V302.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V448h-92.8V148.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V448z"/></svg>
                        </a>
                        <a href="https://github.com/tranquanghuy-09" class="github ntip" original-title=" Follow on Github" target="_blank" rel="nofollow">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="19.375" viewBox="0 0 496 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path fill="#ffffff" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Đoạn mã JavaScript để định dạng lại số -->
        <script th:inline="javascript">
            $(document).ready(function() {
                /* Định dạng số trong mỗi sản phẩm */
                $('[data-format-number]').each(function() {
                    var value = $(this).text();
                    var formattedValue = new Intl.NumberFormat('vi-VN').format(value);
                    $(this).text(formattedValue + '₫');
                });
            });
        </script>
        <canvas id="Canvas"></canvas>

        <script src="js/fireworks.js"></script>
    </body>
</html>
